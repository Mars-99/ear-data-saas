import{q as r,j as k,i as g,t as S,u as E,a2 as C,l as V,m as h,o as b,w as y,a as _,n as o,P as M,aj as R,aq as D,ar as O,as as q,p as j,at as H}from"./DD4Ox5CE.js";import{i as v}from"./y1qtJ0Us.js";function K(t){return t==null}function T(t,n){return K(t)?!1:Array.isArray(t)?t.some(a=>v(a,n)):v(t,n)}function P({type:t,defaultValue:n,modelValue:a}){const e=a||n;return a!==void 0||n!==void 0?Array.isArray(e)?"multiple":"single":t??"single"}function F({type:t,defaultValue:n,modelValue:a}){return t||P({type:t,defaultValue:n,modelValue:a})}function N({type:t,defaultValue:n}){return n!==void 0?n:t==="single"?void 0:[]}function z(t,n){const a=r(()=>F(t)),e=k(t,"modelValue",n,{defaultValue:N(t),passive:t.modelValue===void 0,deep:!0});function l(d){if(a.value==="single")e.value=v(d,e.value)?void 0:d;else{const s=Array.isArray(e.value)?[...e.value||[]]:[e.value].filter(Boolean);if(T(s,d)){const u=s.findIndex(c=>v(c,d));s.splice(u,1)}else s.push(d);e.value=s}}const i=r(()=>a.value==="single");return{modelValue:e,changeModelValue:l,isSingle:i}}const[I,G]=V("AccordionRoot"),U=g({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(t,{emit:n}){const a=t,e=n,{dir:l,disabled:i,unmountOnHide:d}=S(a),s=E(l),{modelValue:u,changeModelValue:c,isSingle:A}=z(a,e),{forwardRef:f,currentElement:p}=C();return G({disabled:i,direction:s,orientation:a.orientation,parentElement:p,isSingle:A,collapsible:a.collapsible,modelValue:u,changeModelValue:c,unmountOnHide:d}),(m,w)=>(b(),h(o(M),{ref:o(f),"as-child":m.asChild,as:m.as},{default:y(()=>[_(m.$slots,"default",{modelValue:o(u)})]),_:3},8,["as-child","as"]))}}),[B,J]=V("AccordionItem"),W=g({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t,{expose:n}){const a=t,e=I(),l=r(()=>e.isSingle.value?a.value===e.modelValue.value:Array.isArray(e.modelValue.value)&&e.modelValue.value.includes(a.value)),i=r(()=>e.disabled.value||a.disabled),d=r(()=>i.value?"":void 0),s=r(()=>l.value?"open":"closed");n({open:l,dataDisabled:d});const{currentRef:u,currentElement:c}=C();J({open:l,dataState:s,disabled:i,dataDisabled:d,triggerId:"",currentRef:u,currentElement:c,value:r(()=>a.value)});function A(f){var x;const p=f.target;if(Array.from(((x=e.parentElement.value)==null?void 0:x.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex($=>$===p)===-1)return null;O(f,c.value,e.parentElement.value,{arrowKeyOptions:e.orientation,dir:e.direction.value,focus:!0})}return(f,p)=>(b(),h(o(D),{"data-orientation":o(e).orientation,"data-disabled":d.value,"data-state":s.value,disabled:i.value,open:l.value,as:a.as,"as-child":a.asChild,"unmount-on-hide":o(e).unmountOnHide.value,onKeydown:R(A,["up","down","left","right","home","end"])},{default:y(()=>[_(f.$slots,"default",{open:l.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),X=g({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=t,a=I(),e=B();return C(),(l,i)=>(b(),h(o(q),{role:"region","as-child":n.asChild,"force-mount":n.forceMount,"aria-labelledby":o(e).triggerId,"data-state":o(e).dataState.value,"data-disabled":o(e).dataDisabled.value,"data-orientation":o(a).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:i[0]||(i[0]=d=>o(a).changeModelValue(o(e).value.value))},{default:y(()=>[_(l.$slots,"default")]),_:3},8,["as-child","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),Y=g({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const n=t,a=I(),e=B();e.triggerId||(e.triggerId=j(void 0,"reka-accordion-trigger"));function l(){const i=a.isSingle.value&&e.open.value&&!a.collapsible;e.disabled.value||i||a.changeModelValue(e.value.value)}return(i,d)=>(b(),h(o(H),{id:o(e).triggerId,ref:o(e).currentRef,"data-reka-collection-item":"",as:n.as,"as-child":n.asChild,"aria-disabled":o(e).disabled.value||void 0,"aria-expanded":o(e).open.value||!1,"data-disabled":o(e).dataDisabled.value,"data-orientation":o(a).orientation,"data-state":o(e).dataState.value,disabled:o(e).disabled.value,onClick:l},{default:y(()=>[_(i.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}});export{U as _,B as a,W as b,Y as c,X as d,I as i};
