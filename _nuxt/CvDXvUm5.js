import{h as m,g as V}from"./DD4Ox5CE.js";import{i as h}from"./y1qtJ0Us.js";function C(t){const e=m("",1e3);return{search:e,handleTypeaheadSearch:(r,i)=>{e.value=e.value+r;{const u=V(),n=i.map(a=>{var f,x;return{...a,textValue:((f=a.value)==null?void 0:f.textValue)??((x=a.ref.textContent)==null?void 0:x.trim())??""}}),o=n.find(a=>a.ref===u),d=n.map(a=>a.textValue),p=I(d,e.value,o==null?void 0:o.textValue),l=n.find(a=>a.textValue===p);return l&&l.ref.focus(),l==null?void 0:l.ref}},resetTypeahead:()=>{e.value=""}}}function v(t,e){return t.map((s,c)=>t[(e+c)%t.length])}function I(t,e,s){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=s?t.indexOf(s):-1;let u=v(t,Math.max(i,0));r.length===1&&(u=u.filter(d=>d!==s));const o=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return o!==s?o:void 0}function w(t,e,s){const c=t.findIndex(n=>h(n,e)),r=t.findIndex(n=>h(n,s));if(c===-1||r===-1)return[];const[i,u]=[c,r].sort((n,o)=>n-o);return t.slice(i,u+1)}export{w as f,C as u};
